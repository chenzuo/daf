insert into sso_Consumer values ('DAF.Scheduling.Site','DAF.Scheduling.Site','http://www.schedule.com','DAF.Scheduling.Site','DAF.Scheduling.Site')
go

CREATE TABLE [dbo].[schedule_Task] (
    [Name] [nvarchar](50) NOT NULL,
    [Description] [nvarchar](200),
    [OperationName] [nvarchar](50),
    [Enabled] [bit] NOT NULL,
    [RetryTimes] [int] NOT NULL,
    [StartParameters] [nvarchar](200),
    [ActiveParameters] [nvarchar](200),
    [StopParameters] [nvarchar](200),
    CONSTRAINT [PK_dbo.schedule_Task] PRIMARY KEY ([Name])
)
CREATE TABLE [dbo].[schedule_TaskTrigger] (
    [TaskTriggerId] [nvarchar](50) NOT NULL,
    [TaskName] [nvarchar](50) NOT NULL,
    [TriggerName] [nvarchar](50) NOT NULL,
    [Enabled] [bit] NOT NULL,
    [BeginTime] [datetime],
    [EndTime] [datetime],
    [InitTriggerValue] [nvarchar](200),
    [LastTriggerValue] [nvarchar](200),
    [TriggerParameters] [nvarchar](200),
    [LastActiveTime] [datetime],
    [RetryTimes] [int] NOT NULL,
    CONSTRAINT [PK_dbo.schedule_TaskTrigger] PRIMARY KEY ([TaskTriggerId])
)
CREATE INDEX [IX_TaskName] ON [dbo].[schedule_TaskTrigger]([TaskName])
CREATE TABLE [dbo].[schedule_TaskExecuteLog] (
    [LogId] [nvarchar](50) NOT NULL,
    [TaskName] [nvarchar](50) NOT NULL,
    [OperationName] [nvarchar](50) NOT NULL,
    [TriggerName] [nvarchar](50) NOT NULL,
    [ActiveRemark] [nvarchar](max),
    [ActiveParameters] [nvarchar](200),
    [TriggerTime] [datetime] NOT NULL,
    [ExecuteTime] [datetime] NOT NULL,
    [RetryTimes] [int] NOT NULL,
    [Exception] [nvarchar](max),
    [Success] [bit] NOT NULL,
    CONSTRAINT [PK_dbo.schedule_TaskExecuteLog] PRIMARY KEY ([LogId])
)
ALTER TABLE [dbo].[schedule_TaskTrigger] ADD CONSTRAINT [FK_dbo.schedule_TaskTrigger_dbo.schedule_Task_TaskName] FOREIGN KEY ([TaskName]) REFERENCES [dbo].[schedule_Task] ([Name]) ON DELETE CASCADE
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](255) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId])
)
BEGIN TRY
    EXEC sp_MS_marksystemobject 'dbo.__MigrationHistory'
END TRY
BEGIN CATCH
END CATCH
INSERT INTO [__MigrationHistory] ([MigrationId], [Model], [ProductVersion]) VALUES ('201211020640428_Init', 0x1F8B0800000000000400E55BDB6EE336107D2FD07F10F4D416582BD9DD02DBC0D94562C745D05C1651765F0346A21D2212A58A54607F5B1FFA49FD850E753345EA6E254EDA9720E2E57038E49C2187E37FFEFA7BFA65ED7BC6138E1809E8B1793839300D4C9DC02574756CC67CF9EE93F9E5F38F3F4CCF5C7F6D7CCFDB7D10EDA02765C7E603E7E1916531E701FB884D7CE244010B967CE204BE85DCC07A7F70F09B75786861803001CB30A63731E5C4C7C9077CCE02EAE090C7C8BB0C5CECB1AC1C6AEC04D5B8423E662172F0B1393F594C44A91B7B20E3C4261C4FE6A793B385699C7804814036F696A6117E3CFAC6B0CDA380AEEC107182BCDB4D88A17E893C8633F18FC28F5D6770F05ECCC04294061CE0023A480366313798DD1968816F8458C90C41F47462F816B147B925B4FD036F4A0550F4350A421CF1CD0D5E66FDC55FD3B0CA3D2DB56BD1B1D44B880112F008D46A1A0BB2C6EE05A62BFE5068EC12ADF3925F61FDBF51021B05FAF02886DAABD8F3D0BD878BE656E3A073CC9C8884A9227B8D0DDA6C183CFD6E1EFB1A3E92251C7BE65D063FA3A2AD9B0F7B1A041E46B4B7FE6E308F36B760442C473AA7FCC3FBDE38364711FF8A22F8E060DE2FBE16270E274F788F02D83C085F72F82BF44456C9EE530411467F1B91D52A11E3067B4923F640C294D326323B640DEF4A8C612CA2C0BF093C8549AADADEDDA26885394C37E8D8C10EE2C851A633B5B614D699D832F421FC26753F77FB139DD2FD85194F8CBE17AACDA6BC97B14762BB53BC2254B05D0E34471CA7DF7DD9D71D03E69C129EA9F53BF2E2BE7ADD9DB52E10DBAF00D9E07B246EA182D47B8CB1A283FD692D9F97A9F9B9F93CA7E7CE7C9E3B80617CBE053A5B6327E6F822580D6174E83684C9B36EFF17067FB603EBABF71FA981DFC0C52A7AEC3938FCFBD6CFA699E6DBF8AD9B274EED7414ACB12E1F676B71EFEF7F05DC7D69EDD8713063FDCE2575F478C258E090C440EBCFBB770D977B3895187D793ED5578D1F016DC51E27A1471C90F7D8FC45D3478F218BAB42F590EA5887A64AFBD7748E3DB020431894881FCD1073905B11AA00A9CA25E0297084A908DFCCC079F20811CA75B742A84342E4F59C9182D339A422242DC6546BE638C4D405917BAE681761B60E4817A8185751699B06A796B47D75A70F7D38F4C091B2B3E7A7DA1E16CD6DCC2559C1BEB61653B975B45DA9836CEFC48D58C5CEEF00B93DB354A2561E6E545C496B5BF0F6239DD4ADEB31505DEA016C51284155A9B68F06F08202AEA196761834AB60D462976D43BF561AFBCD63C4564D90787A89C2107C861434CE4A0C3B8D18CFDED9FD43B57E8A6139AC22625B485B8CC48308ADB0520B4383A40B12310E9E16DD23E14F66AEAF356BB7A97C20D9B4F495CBF771DE5AFC9F455BEBA2E693A69DB6D5E502A6E70B4E1333C5D28237774F22F8C8435165C4791678B14F9B68B61EA1143E96814A15DDF19413B68CA85475C72C621F325A51D81D473E6DC950727977342DE02B436A95DD71F5C3B20CACD7F691B81CA12D0B5CAED351A796B28735CFA9198E7628295B61671B2D68767C53AD0CA226D87D2CB616A56E299408AABC128DB1D9364CDDEAEA8F3A0D48F245B5042657BCBC014BD14B19492AEE2393AB231585DD71F408A60CA8D77647D6439332B25EDB7B7DEBB8A0A2BA9FD47234519559AE7B6EEADE2365C927E39158AB3D5498A0B7F256379CDAF54D2386A565AD8A3D36EEBFD198EA398E1B63B35F39F4A63BF3BCE6351C114A81B28AB9F76659395856625AB9625F4738296C5696AD28EE71B8CA0361A553555EF8C2DCA45D07D526C5E8C5B550B9FE4DB3AB587B229176374B9B980628E889B8C9BD6CC338F627A2C1C4FED39B7904E6BB6D70892859627067C123A649B8F7939284342041C862CCF55E7B96107D4291F380222DD8BF7B1250257412491F21C7A783DC035278EE091F21824E687F949AE49DB17458F7FE31167E75EACD30F4FF422ACA5866A5BE538E86AB3F048E053D82496939222EE298EF9E233214A62E47642CEBA94B01190BBF36C363CC09E8091C43D53D8451DF66BEC36BA789A1AE77DF1C54956B9063FFE4A3F5CFAFCD7F56A4075459CFD0F480C158E31C6EB4E4809DD64279F06F77302FFCD8BF9FE7F5C6D7BEDD930C767EBDDFDB13FD5B798ED75F189B5FBFCB3BABE5713EBD110311DC07B017524B61598BBB4EEFF795BBA6DB337EEBE05D1FFC6B9EF3BB3EFBB7CAF18672044A6FF54D8918EDD4D0F2A2F42C29007A6C07EC49FA2919183623AB2D84F86119C54EC9928A36E77419E426AD489437515CC825E6087C223A893859228743B5702949C25A7202079FE5DF63F79C5EC73C8C394C19FBF7DE4656862086A6F1933C87B2CCD3EBC40BB231A6006212E1D6AFE9694C3CB7907B51E1FF6A2004E3FC8E6976C4B381C0385E6D0AA4AB807604CAD45710E52DF6430FC0D835B5D113AE97AD5D87658D4DE704ADE00CC6328C6D7FF884EDE7FAEBCFFF02CECD31BA0C390000, '5.0.0.net45')
